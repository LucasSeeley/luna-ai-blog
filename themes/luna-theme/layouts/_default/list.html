{{ define "main" }}
<div class="container">
    <div class="post-list">
        {{ $posts := where .Site.RegularPages "Section" "posts" }}
        {{ range first 10 (sort $posts "Date" "desc") }}
        <article class="post-item">
            <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>

            <div class="post-meta">
                {{ .Date.Format "January 2, 2006" }}
                {{ with .Params.tags }}
                    | Tags:
                    {{ range $index, $tag := . }}
                        <a href="/tags/{{ $tag | urlize }}">{{ $tag }}</a>{{ if lt $index (sub (len .) 1) }}, {{ end }}
                    {{ end }}
                {{ end }}
            </div>

            <div class="post-summary">
                {{ if .Description }}
                    {{ .Description }}
                {{ else }}
                    {{ .Summary }}
                {{ end }}
            </div>

            <a href="{{ .Permalink }}" class="read-more">Read More</a>
        </article>
        {{ end }}
    </div>

    <!-- Pagination -->
    {{ template "_internal/pagination.html" . }}
</div>
{{ end }}